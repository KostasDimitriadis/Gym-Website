<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Management</title>

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body class="container mt-4">

    <h2>User Details</h2>

    <ul class="list-group">
        <li class="list-group-item"><strong>Username:</strong> <%= user.username %></li>
        <li class="list-group-item"><strong>Email:</strong> <%= user.email %></li>
        <li class="list-group-item"><strong>Name:</strong> <%= user.name %></li>
        <li class="list-group-item"><strong>Surname:</strong> <%= user.surname %></li>
        <li class="list-group-item"><strong>Country:</strong> <%= user.country %></li>
        <li class="list-group-item"><strong>City:</strong> <%= user.city %></li>
        <li class="list-group-item"><strong>Address:</strong> <%= user.address %></li>
        <li class="list-group-item"><strong>Telephone:</strong> <%= user.telephone %></li>
        <li class="list-group-item"><strong>Registration Status:</strong> <%= user.registrationStatus %></li>
        <li class="list-group-item"><strong>Role:</strong> <%= user.role %></li>
    </ul>

    <form action="/admin/view-user/<%= user._id %>" method="post" class="mt-4">
        <input type="hidden" name="action" value="update">
        <input type="hidden" name="userId" value="<%= user._id %>">

        <div class="mb-3">
          <label for="newUsername" class="form-label">New Username:</label>
          <input type="text" class="form-control" id="newUsername" name="username" value="<%= user.username %>" required>
      </div>
      
      <div class="mb-3">
          <label for="newEmail" class="form-label">New Email:</label>
          <input type="email" class="form-control" id="newEmail" name="email" value="<%= user.email %>" required>
      </div>
      
      <div class="mb-3">
          <label for="newName" class="form-label">New Name:</label>
          <input type="text" class="form-control" id="newName" name="name" value="<%= user.name %>" required>
      </div>
      
      <div class="mb-3">
          <label for="newSurname" class="form-label">New Surname:</label>
          <input type="text" class="form-control" id="newSurname" name="surname" value="<%= user.surname %>">
      </div>
      
      <div class="mb-3">
          <label for="newCountry" class="form-label">New Country:</label>
          <input type="text" class="form-control" id="newCountry" name="country" value="<%= user.country %>">
      </div>
      
      <div class="mb-3">
          <label for="newCity" class="form-label">New City:</label>
          <input type="text" class="form-control" id="newCity" name="city" value="<%= user.city %>">
      </div>
      
      <div class="mb-3">
          <label for="newAddress" class="form-label">New Address:</label>
          <input type="text" class="form-control" id="newAddress" name="address" value="<%= user.address %>">
      </div>
      
      <div class="mb-3">
          <label for="newTelephone" class="form-label">New Telephone:</label>
          <input type="text" class="form-control" id="newTelephone" name="telephone" value="<%= user.telephone %>">
      </div>
      
      <div class="mb-3">
          <label for="newRegistrationStatus" class="form-label">New Registration Status:</label>
          <select id="newRegistrationStatus" name="registrationStatus" class="form-select" required>
              <option value="pending" <%= user.registrationStatus === 'pending' ? 'selected' : '' %>>Pending</option>
              <option value="approved" <%= user.registrationStatus === 'approved' ? 'selected' : '' %>>Approved</option>
              <option value="denied" <%= user.registrationStatus === 'denied' ? 'selected' : '' %>>Denied</option>
          </select>
      </div>
      
      <div class="mb-3">
          <label for="newRole" class="form-label">New Role:</label>
          <select id="newRole" name="role" class="form-select" required>
              <option value="user" <%= user.role === 'user' ? 'selected' : '' %>>User</option>
              <option value="admin" <%= user.role === 'admin' ? 'selected' : '' %>>Admin</option>
          </select>
      </div>
      

        <button type="submit" class="btn btn-primary">Update</button>
    </form>

    <a href="/admin/manage-users" class="btn btn-secondary mt-3">Back to User Management</a>

    <!-- Bootstrap JS and Popper.js (if needed) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>
